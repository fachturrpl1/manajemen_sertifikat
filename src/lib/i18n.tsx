"use client"

import React from "react"

type Locale = "en" | "id"

type Dictionary = Record<string, string>

const en: Dictionary = {
  create: "Create",
  manage: "Manage",
  dashboard: "Dashboard",
  generate: "Generate",
  login: "Login",
  logout: "Logout",
  templates: "Templates",
  categories: "Categories",
  members: "Members",
  certificates: "Certificates",
  searchCertificate: "Search Certificate",
  about: "About",
  faq: "FAQ",
  welcome: "Welcome",
  name: "Name",
  home: "Home",
  edit: "Edit",
  save: "Save",
  cancel: "Cancel",
  delete: "Delete",
  add: "Add",
  title: "Title",
  description: "Description",
  date: "Date",
  position: "Position",
  font: "Font",
  color: "Color",
  size: "Size",
  // Content translations
  certificateManagement: "Certificate",
  memberManagement: "Member",
  howToUse: "How to Use the Certificate Generator",
  step1: "Upload a template image for your certificate.",
  step2: "Enter names separated by commas.",
  step3: "Click \"Generate\" to create your certificates.",
  step4: "Enter QR code data (if any) if needed.",
  step5: "Customize the font, color, and position for the name and QR code.",
  step6: "Preview and download all generated certificates as PNG files.",
  workGuide: "Work Guide",
  workStep1: "Search or create certificate data from the right panel.",
  workStep2: "Edit details in the certificate edit page.",
  workStep3: "Generate and review before publication.",
  searchPlaceholder: "Enter certificate number...",
  createNew: "Create New",
  features: "Features",
  feature1: "PDF & Email Certificate Automation",
  feature2: "Public Verification via Unique URL",
  feature3: "Dynamic Templates (Portrait/Landscape)",
  feature4: "Bulk Import from Excel",
  feature5: "Role Access: Admin & Team",
  feature6: "Multilingual: English & Indonesia",
  noCreditCard: "No credit card required",
  // Additional content
  loading: "Loading...",
  noData: "No data",
  noName: "(No name)",
  category: "Category",
  tryPublicVerification: "Try Public Verification",
  publicVerification: "Public Verification",
  // Landing page content
  creatorAndManagement: "Creator & Online Member Management",
  designDescription: "Design, issue, and manage certificates for MoUs, Internships, Training, and Industrial Visits. Choose templates, dynamically set name/QR positions, download PDFs, and send via email—all in one place.",
  // Verification page
  certificateVerification: "Certificate Verification",
  enterCertificateNumber: "Enter Your Certificate Number",
  typeCertificateNumber: "Type Certificate Number",
  verify: "Verify",
  // Login form
  loginToAccount: "Login to your account",
  enterEmailToLogin: "Enter your email below to login to your account",
  emailPlaceholder: "example@gmail.com",
  passwordPlaceholder: "password",
  loggingIn: "Logging in...",
  continueAsGuest: "Continue as guest",
  emailOrPasswordWrong: "Email or password is incorrect",
  loginError: "An error occurred during login",
  // Admin Edit Page
  certificatePreview: "Certificate Preview",
  categorySelected: "Category selected",
  noCategorySelected: "No category selected",
  certificateCategory: "Certificate Category",
  selectCategory: "Select category",
  chooseTemplate: "Choose Template",
  uploadCertificate: "Upload Certificate (PNG, JPG, PDF)",
  chooseFile: "Choose File",
  noFileChosen: "No file chosen",
  uploading: "Uploading...",
  or: "or",

  editElements: "Edit Elements",
  positionX: "Position X",
  positionY: "Position Y",
  justify: "Justify",
  fontSize: "Font Size",
  left: "Left",
  center: "Center",
  right: "Right",
  inter: "Inter",
  arial: "Arial",
  timesNewRoman: "Times New Roman",
  georgia: "Georgia",
  saved: "Saved",
  saving: "Saving...",
  exportPdf: "Export PDF (Canvas)",
  selectTemplateOrUpload: "Select template or upload file for preview",
  clickAndDrag: "Click and drag text to move position",
  industrialVisit: "Industrial Visit",
  internship: "Internship",
  mou: "MoU",
  training: "Training",
  selectCategoryToSeeTemplates: "Select category to see templates",
  certificateTitle: "Certificate title",
  briefDescription: "Brief description",
  integratedDate: "Integrated date",
  justifyTitle: "Justify (Name)",
  justifyDescription: "Justify (Description)",
  justifyDate: "Justify (Date)",
  fontTitle: "Font (Name)",
  fontDescription: "Font (Description)",
  fontDate: "Font (Date)",
  selectDataFirst: "Select certificate data first",
  failedToSaveCategory: "Failed to save category: ",
  categorySaved: "Category saved",
  failedToSaveFile: "Failed to save file to table: ",
  fileSavedToTable: "File saved to table",
  failedToProcessFile: "Failed to process file: ",
  failedToSave: "Failed to save: ",
  changesSaved: "Changes saved",
  failedToSavePdf: "Failed to save PDF: ",
  pdfDownloadedAndSaved: "PDF downloaded & saved",
  applyingTemplate: "Applying template...",
  resetToTemplate: "Reset to Template",
  loadingCertificateData: "Loading certificate data...",
  certificateNotFound: "Certificate not found",
  fileTypeNotSupported: "File type not supported. Please upload PNG, JPG, or PDF files.",
  fileSizeTooLarge: "File size too large. Maximum size is 10MB.",
  categoryCannotBeEmpty: "Category cannot be empty",
  templatePathRequired: "Template path is required",
  templateConfigNotFound: "Template configuration not found",
  invalidTemplateConfig: "Invalid template configuration",
  undo: "Undo",
  redo: "Redo",
  undoTooltip: "Undo last change (Ctrl+Z)",
  redoTooltip: "Redo last undone change (Ctrl+Y)",
  noDateAvailable: "No date available",
  autoFromDatabase: "Auto from database",
  dateFromDatabase: "Date from database",
  previewCertificate: "Preview Certificate",
  certificateDetails: "Certificate Details",
}

const id: Dictionary = {
  create: "Buat",
  manage: "Kelola",
  dashboard: "Beranda",
  generate: "Generate",
  login: "Masuk",
  logout: "Keluar",
  templates: "Template",
  categories: "Kategori",
  members: "Member",
  certificates: "Sertifikat",
  searchCertificate: "Cari Sertifikat",
  about: "Tentang",
  faq: "FAQ",
  welcome: "Selamat Datang",
  home: "Beranda",
  edit: "Edit",
  save: "Simpan",
  cancel: "Batal",
  delete: "Hapus",
  add: "Tambah",
  name: "Nama",
  title: "Judul",
  description: "Deskripsi",
  date: "Tanggal",
  position: "Posisi",
  font: "Font",
  color: "Warna",
  size: "Ukuran",
  // Content translations
  certificateManagement: "Sertifikat",
  memberManagement: "Member",
  howToUse: "Cara Menggunakan Generator Sertifikat",
  step1: "Unggah gambar template untuk sertifikat Anda.",
  step2: "Masukkan nama yang dipisahkan dengan koma.",
  step3: "Klik \"Generate\" untuk membuat sertifikat Anda.",
  step4: "Masukkan data QR code (jika ada) jika diperlukan.",
  step5: "Kustomisasi font, warna, dan posisi untuk nama dan QR code.",
  step6: "Pratinjau dan unduh semua sertifikat yang dibuat sebagai file PNG.",
  workGuide: "Panduan Kerja",
  workStep1: "Cari atau buat data sertifikat dari panel kanan.",
  workStep2: "Edit detail di halaman edit sertifikat.",
  workStep3: "Generate dan review sebelum publikasi.",
  searchPlaceholder: "Masukkan nomor sertifikat...",
  createNew: "Buat Baru",
  features: "Fitur",
  feature1: "Otomasi PDF & Email Sertifikat",
  feature2: "Verifikasi Publik via URL Unik",
  feature3: "Template Dinamis (Portrait/Landscape)",
  feature4: "Import Massal dari Excel",
  feature5: "Akses Peran: Admin & Team",
  feature6: "Multibahasa: English & Indonesia",
  noCreditCard: "Tidak diperlukan kartu kredit",
  // Additional content
  loading: "Memuat...",
  noData: "Tidak ada data",
  noName: "(Tanpa nama)",
  category: "Kategori",
  tryPublicVerification: "Coba Verifikasi Publik",
  publicVerification: "Verifikasi Publik",
  // Landing page content
  creatorAndManagement: "Pembuat & Manajemen Member Online",
  designDescription: "Rancang, terbitkan, dan kelola sertifikat untuk MoU, Magang, Pelatihan, dan Kunjungan Industri. Pilih template, atur posisi nama/QR secara dinamis, unduh PDF, dan kirim lewat email—semuanya dalam satu tempat.",
  // Verification page
  certificateVerification: "Verifikasi Sertifikat",
  enterCertificateNumber: "Masukkan Nomor Sertifikat Anda",
  typeCertificateNumber: "Ketikkan Nomor Sertifikat",
  verify: "Verifikasi",
  // Login form
  loginToAccount: "Masuk ke akun Anda",
  enterEmailToLogin: "Masukkan email Anda di bawah untuk masuk ke akun",
  emailPlaceholder: "contoh@gmail.com",
  passwordPlaceholder: "kata sandi",
  loggingIn: "Sedang masuk...",
  continueAsGuest: "Lanjut sebagai tamu",
  emailOrPasswordWrong: "Email atau kata sandi salah",
  loginError: "Terjadi kesalahan saat login",
  // Admin Edit Page
  certificatePreview: "Pratinjau Sertifikat",
  categorySelected: "Kategori dipilih",
  noCategorySelected: "Belum ada kategori yang dipilih",
  certificateCategory: "Kategori Sertifikat",
  selectCategory: "Pilih kategori",
  chooseTemplate: "Pilih Template",
  uploadCertificate: "Upload Certificate (PNG, JPG, PDF)",
  chooseFile: "Choose File",
  noFileChosen: "No file chosen",
  uploading: "Mengunggah...",
  or: "atau",
  editElements: "Edit Elemen",
  positionX: "Posisi X",
  positionY: "Posisi Y",
  justify: "Justify",
  fontSize: "Font Size",
  left: "Kiri",
  center: "Tengah",
  right: "Kanan",
  inter: "Inter",
  arial: "Arial",
  timesNewRoman: "Times New Roman",
  georgia: "Georgia",
  saved: "Tersimpan",
  saving: "Menyimpan...",
  exportPdf: "Export PDF (Canvas)",
  selectTemplateOrUpload: "Pilih template atau unggah file untuk pratinjau",
  clickAndDrag: "Klik tahan dan seret teks untuk memindahkan posisi",
  industrialVisit: "Kunjungan Industri",
  internship: "Magang",
  mou: "MoU",
  training: "Pelatihan",
  selectCategoryToSeeTemplates: "Pilih kategori untuk melihat template",
  certificateTitle: "Judul sertifikat",
  briefDescription: "Deskripsi singkat",
  integratedDate: "Tanggal (terintegrasi)",
  justifyTitle: "Justify (Nama)",
  justifyDescription: "Justify (Deskripsi)",
  justifyDate: "Justify (Tanggal)",
  fontTitle: "Font (Nama)",
  fontDescription: "Font (Deskripsi)",
  fontDate: "Font (Tanggal)",
  selectDataFirst: "Pilih data sertifikat terlebih dahulu",
  failedToSaveCategory: "Gagal menyimpan kategori: ",
  categorySaved: "Kategori tersimpan",
  failedToSaveFile: "Gagal menyimpan file ke tabel: ",
  fileSavedToTable: "File berhasil disimpan ke tabel",
  failedToProcessFile: "Gagal memproses file: ",
  failedToSave: "Gagal menyimpan: ",
  changesSaved: "Perubahan disimpan",
  failedToSavePdf: "Gagal menyimpan PDF: ",
  pdfDownloadedAndSaved: "PDF berhasil diunduh & disimpan",
  applyingTemplate: "Menerapkan template...",
  resetToTemplate: "Reset ke Template",
  loadingCertificateData: "Memuat data sertifikat...",
  certificateNotFound: "Sertifikat tidak ditemukan",
  fileTypeNotSupported: "Tipe file tidak didukung. Silakan upload file PNG, JPG, atau PDF.",
  fileSizeTooLarge: "Ukuran file terlalu besar. Maksimal 10MB.",
  categoryCannotBeEmpty: "Kategori tidak boleh kosong",
  templatePathRequired: "Path template diperlukan",
  templateConfigNotFound: "Konfigurasi template tidak ditemukan",
  invalidTemplateConfig: "Konfigurasi template tidak valid",
  undo: "Undo",
  redo: "Redo",
  undoTooltip: "Batalkan perubahan terakhir (Ctrl+Z)",
  redoTooltip: "Ulangi perubahan yang dibatalkan (Ctrl+Y)",
  noDateAvailable: "Tidak ada tanggal tersedia",
  autoFromDatabase: "Otomatis dari database",
  dateFromDatabase: "Tanggal dari database",
  previewCertificate: "Pratinjau Sertifikat",
  certificateDetails: "Detail Sertifikat",
}

const dictionaries: Record<Locale, Dictionary> = { en, id }

type I18nContextValue = {
  locale: Locale
  t: (key: keyof typeof en) => string
  setLocale: (l: Locale) => void
}

const I18nContext = React.createContext<I18nContextValue | undefined>(undefined)

export function I18nProvider({ children }: { children: React.ReactNode }) {
  const [locale, setLocale] = React.useState<Locale>("en")
  const value = React.useMemo<I18nContextValue>(() => ({
    locale,
    setLocale,
    t: (key) => dictionaries[locale][key],
  }), [locale])
  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>
}

export function useI18n() {
  const ctx = React.useContext(I18nContext)
  if (!ctx) throw new Error("useI18n must be used within I18nProvider")
  return ctx
}


